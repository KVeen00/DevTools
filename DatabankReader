{"slots":{"0":{"name":"screen","type":{"events":[],"methods":[]}},"1":{"name":"db","type":{"events":[],"methods":[]}},"2":{"name":"screen2","type":{"events":[],"methods":[]}},"3":{"name":"slot4","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"clearDB = true\nfunction showDB(db, screen)\n\thtml = [[<div style=\"\n            height:100%;\n            width:100%;\n            position:absolute;\n            top:0%;\n            left:0%;\">\n            <svg height=\"100%\" width=\"100%\">               \n            <g fill=\"white\" stroke-width=\"0.5%\" font-weight=\"bold\" font-size=\"25\" >\n            <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"black\" stroke=\"blue\" />]]\n\tkys=db.getNbKeys()\n\tif kys > 0 then\n\t\thtml = html..[[\n        <text x=\"50%\" y=\"5%\"  font-size=\"45\" text-anchor=\"middle\">Number of Keys: ]]..kys..[[</text>]]\n        keynames = json.decode(db.getKeys())\n        table.sort(keynames)\n        for i,v in ipairs(keynames) do\n        \thtml=html..[[\n        \t<text x=\"2%\" y=\"]]..((i*5)+5)..[[%\"  text-anchor=\"start\">]]..v..[[</text>\n        \t<text x=\"50%\" y=\"]]..((i*5)+5)..[[%\"  text-anchor=\"start\">]]..db.getStringValue(v)..[[</text>\n        \t]]\n        end\n        html=html..[[</g></svg></div>]]\n    else\n    \thtml = html..[[\n        <text x=\"50%\" y=\"50%\"  text-anchor=\"middle\">Empty DB</text>\n        </g></svg></div>]]\n\tend\n\tscreen.setHTML(html)\nend\n\nif clearDB==true then db.clear() end\nunit.setTimer(\"write\", 1)","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"0"},{"code":"showDB(db, screen)","filter":{"args":[{"value":"write"}],"signature":"tick(timerId)","slotKey":"-1"},"key":"1"}],"methods":[],"events":[]}
